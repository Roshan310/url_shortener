<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<style>
    .content{
        text-align: center;
        margin-top: 50px;
    }
</style>
<div class="content card">
<form id="post-form">
    {% csrf_token %}
    <h1> Url Shortener</h1>
    <input type="text" name="link" id="link" placeholder="Enter the link">
    <button type="submit" class="btn btn-primary" id="shorten">Shorten</button>
    <h2></h2>
</form>
</div>
<script type="text/javascript">
    $(document).on('submit', '#post-form', function(e){
        e.preventDefault();

        $.ajax({
            type: 'POST',
            url: '/create',
            data:{
                link:$('#link').val(),
                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val(),
            },
            success: function(data){
                $('h2').html('localhost:8000/'+data)
            }
        });
    });

</script>